<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>List.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">kfirst</a> &gt; <a href="index.source.html" class="el_package">lesson4.task1</a> &gt; <span class="el_source">List.kt</span></div><h1>List.kt</h1><pre class="source lang-java linenums">@file:Suppress(&quot;UNUSED_PARAMETER&quot;, &quot;ConvertCallChainIntoSequence&quot;)

package lesson4.task1

import lesson1.task1.discriminant
import kotlin.math.sqrt

// Урок 4: списки
// Максимальное количество баллов = 12
// Рекомендуемое количество баллов = 8
// Вместе с предыдущими уроками = 24/33

/**
 * Пример
 *
 * Найти все корни уравнения x^2 = y
 */
fun sqRoots(y: Double) =
<span class="nc" id="L19">    when {</span>
<span class="nc bnc" id="L20" title="All 2 branches missed.">        y &lt; 0 -&gt; listOf()</span>
<span class="nc bnc" id="L21" title="All 4 branches missed.">        y == 0.0 -&gt; listOf(0.0)</span>
        else -&gt; {
<span class="nc" id="L23">            val root = sqrt(y)</span>
            // Результат!
<span class="nc" id="L25">            listOf(-root, root)</span>
        }
<span class="nc" id="L27">    }</span>

/**
 * Пример
 *
 * Найти все корни биквадратного уравнения ax^4 + bx^2 + c = 0.
 * Вернуть список корней (пустой, если корней нет)
 */
fun biRoots(a: Double, b: Double, c: Double): List&lt;Double&gt; {
<span class="nc bnc" id="L36" title="All 4 branches missed.">    if (a == 0.0) {</span>
<span class="nc bnc" id="L37" title="All 4 branches missed.">        return if (b == 0.0) listOf()</span>
<span class="nc" id="L38">        else sqRoots(-c / b)</span>
    }
<span class="nc" id="L40">    val d = discriminant(a, b, c)</span>
<span class="nc bnc" id="L41" title="All 2 branches missed.">    if (d &lt; 0.0) return listOf()</span>
<span class="nc bnc" id="L42" title="All 4 branches missed.">    if (d == 0.0) return sqRoots(-b / (2 * a))</span>
<span class="nc" id="L43">    val y1 = (-b + sqrt(d)) / (2 * a)</span>
<span class="nc" id="L44">    val y2 = (-b - sqrt(d)) / (2 * a)</span>
<span class="nc" id="L45">    return sqRoots(y1) + sqRoots(y2)</span>
}

/**
 * Пример
 *
 * Выделить в список отрицательные элементы из заданного списка
 */
fun negativeList(list: List&lt;Int&gt;): List&lt;Int&gt; {
<span class="nc" id="L54">    val result = mutableListOf&lt;Int&gt;()</span>
<span class="nc bnc" id="L55" title="All 2 branches missed.">    for (element in list) {</span>
<span class="nc bnc" id="L56" title="All 2 branches missed.">        if (element &lt; 0) {</span>
<span class="nc" id="L57">            result.add(element)</span>
        }
    }
<span class="nc" id="L60">    return result</span>
}

/**
 * Пример
 *
 * Изменить знак для всех положительных элементов списка
 */
fun invertPositives(list: MutableList&lt;Int&gt;) {
<span class="nc bnc" id="L69" title="All 4 branches missed.">    for (i in 0 until list.size) {</span>
<span class="nc" id="L70">        val element = list[i]</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">        if (element &gt; 0) {</span>
<span class="nc" id="L72">            list[i] = -element</span>
        }
    }
<span class="nc" id="L75">}</span>

/**
 * Пример
 *
 * Из имеющегося списка целых чисел, сформировать список их квадратов
 */
<span class="nc" id="L82">fun squares(list: List&lt;Int&gt;) = list.map { it * it }</span>

/**
 * Пример
 *
 * Из имеющихся целых чисел, заданного через vararg-параметр, сформировать массив их квадратов
 */
<span class="nc" id="L89">fun squares(vararg array: Int) = squares(array.toList()).toTypedArray()</span>

/**
 * Пример
 *
 * По заданной строке str определить, является ли она палиндромом.
 * В палиндроме первый символ должен быть равен последнему, второй предпоследнему и т.д.
 * Одни и те же буквы в разном регистре следует считать равными с точки зрения данной задачи.
 * Пробелы не следует принимать во внимание при сравнении символов, например, строка
 * &quot;А роза упала на лапу Азора&quot; является палиндромом.
 */
fun isPalindrome(str: String): Boolean {
<span class="nc bnc" id="L101" title="All 4 branches missed.">    val lowerCase = str.lowercase().filter { it != ' ' }</span>
<span class="nc bnc" id="L102" title="All 4 branches missed.">    for (i in 0..lowerCase.length / 2) {</span>
<span class="nc bnc" id="L103" title="All 2 branches missed.">        if (lowerCase[i] != lowerCase[lowerCase.length - i - 1]) return false</span>
    }
<span class="nc" id="L105">    return true</span>
}

/**
 * Пример
 *
 * По имеющемуся списку целых чисел, например [3, 6, 5, 4, 9], построить строку с примером их суммирования:
 * 3 + 6 + 5 + 4 + 9 = 27 в данном случае.
 */
<span class="nc" id="L114">fun buildSumExample(list: List&lt;Int&gt;) = list.joinToString(separator = &quot; + &quot;, postfix = &quot; = ${list.sum()}&quot;)</span>

/**
 * Простая (2 балла)
 *
 * Найти модуль заданного вектора, представленного в виде списка v,
 * по формуле abs = sqrt(a1^2 + a2^2 + ... + aN^2).
 * Модуль пустого вектора считать равным 0.0.
 */
<span class="nc bnc" id="L123" title="All 2 branches missed.">fun abs(v: List&lt;Double&gt;): Double = sqrt(v.sumOf { it * it })</span>

/**
 * Простая (2 балла)
 *
 * Рассчитать среднее арифметическое элементов списка list. Вернуть 0.0, если список пуст
 */
<span class="nc" id="L130">fun mean(list: List&lt;Double&gt;): Double = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * Центрировать заданный список list, уменьшив каждый элемент на среднее арифметическое всех элементов.
 * Если список пуст, не делать ничего. Вернуть изменённый список.
 *
 * Обратите внимание, что данная функция должна изменять содержание списка list, а не его копии.
 */
<span class="nc" id="L140">fun center(list: MutableList&lt;Double&gt;): MutableList&lt;Double&gt; = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * Найти скалярное произведение двух векторов равной размерности,
 * представленные в виде списков a и b. Скалярное произведение считать по формуле:
 * C = a1b1 + a2b2 + ... + aNbN. Произведение пустых векторов считать равным 0.
 */
<span class="nc" id="L149">fun times(a: List&lt;Int&gt;, b: List&lt;Int&gt;): Int = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * Рассчитать значение многочлена при заданном x:
 * p(x) = p0 + p1*x + p2*x^2 + p3*x^3 + ... + pN*x^N.
 * Коэффициенты многочлена заданы списком p: (p0, p1, p2, p3, ..., pN).
 * Значение пустого многочлена равно 0 при любом x.
 */
<span class="nc" id="L159">fun polynom(p: List&lt;Int&gt;, x: Int): Int = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * В заданном списке list каждый элемент, кроме первого, заменить
 * суммой данного элемента и всех предыдущих.
 * Например: 1, 2, 3, 4 -&gt; 1, 3, 6, 10.
 * Пустой список не следует изменять. Вернуть изменённый список.
 *
 * Обратите внимание, что данная функция должна изменять содержание списка list, а не его копии.
 */
<span class="nc" id="L171">fun accumulate(list: MutableList&lt;Int&gt;): MutableList&lt;Int&gt; = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * Разложить заданное натуральное число n &gt; 1 на простые множители.
 * Результат разложения вернуть в виде списка множителей, например 75 -&gt; (3, 5, 5).
 * Множители в списке должны располагаться по возрастанию.
 */
<span class="nc" id="L180">fun factorize(n: Int): List&lt;Int&gt; = TODO()</span>

/**
 * Сложная (4 балла)
 *
 * Разложить заданное натуральное число n &gt; 1 на простые множители.
 * Результат разложения вернуть в виде строки, например 75 -&gt; 3*5*5
 * Множители в результирующей строке должны располагаться по возрастанию.
 */
<span class="nc" id="L189">fun factorizeToString(n: Int): String = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * Перевести заданное целое число n &gt;= 0 в систему счисления с основанием base &gt; 1.
 * Результат перевода вернуть в виде списка цифр в base-ичной системе от старшей к младшей,
 * например: n = 100, base = 4 -&gt; (1, 2, 1, 0) или n = 250, base = 14 -&gt; (1, 3, 12)
 */
<span class="nc" id="L198">fun convert(n: Int, base: Int): List&lt;Int&gt; = TODO()</span>

/**
 * Сложная (4 балла)
 *
 * Перевести заданное целое число n &gt;= 0 в систему счисления с основанием 1 &lt; base &lt; 37.
 * Результат перевода вернуть в виде строки, цифры более 9 представлять латинскими
 * строчными буквами: 10 -&gt; a, 11 -&gt; b, 12 -&gt; c и так далее.
 * Например: n = 100, base = 4 -&gt; 1210, n = 250, base = 14 -&gt; 13c
 *
 * Использовать функции стандартной библиотеки, напрямую и полностью решающие данную задачу
 * (например, n.toString(base) и подобные), запрещается.
 */
<span class="nc" id="L211">fun convertToString(n: Int, base: Int): String = TODO()</span>

/**
 * Средняя (3 балла)
 *
 * Перевести число, представленное списком цифр digits от старшей к младшей,
 * из системы счисления с основанием base в десятичную.
 * Например: digits = (1, 3, 12), base = 14 -&gt; 250
 */
<span class="nc" id="L220">fun decimal(digits: List&lt;Int&gt;, base: Int): Int = TODO()</span>

/**
 * Сложная (4 балла)
 *
 * Перевести число, представленное цифровой строкой str,
 * из системы счисления с основанием base в десятичную.
 * Цифры более 9 представляются латинскими строчными буквами:
 * 10 -&gt; a, 11 -&gt; b, 12 -&gt; c и так далее.
 * Например: str = &quot;13c&quot;, base = 14 -&gt; 250
 *
 * Использовать функции стандартной библиотеки, напрямую и полностью решающие данную задачу
 * (например, str.toInt(base)), запрещается.
 */
<span class="nc" id="L234">fun decimalFromString(str: String, base: Int): Int = TODO()</span>

/**
 * Сложная (5 баллов)
 *
 * Перевести натуральное число n &gt; 0 в римскую систему.
 * Римские цифры: 1 = I, 4 = IV, 5 = V, 9 = IX, 10 = X, 40 = XL, 50 = L,
 * 90 = XC, 100 = C, 400 = CD, 500 = D, 900 = CM, 1000 = M.
 * Например: 23 = XXIII, 44 = XLIV, 100 = C
 */
fun roman(n: Int): String {
<span class="nc" id="L245">    val one = listOf(&quot;&quot;, &quot;I&quot;, &quot;II&quot;, &quot;III&quot;, &quot;IV&quot;, &quot;V&quot;, &quot;VI&quot;, &quot;VII&quot;, &quot;VIII&quot;, &quot;IX&quot;)</span>
<span class="nc" id="L246">    val ten = listOf(&quot;&quot;, &quot;X&quot;, &quot;XX&quot;, &quot;XXX&quot;, &quot;XL&quot;, &quot;L&quot;, &quot;LX&quot;, &quot;LXX&quot;, &quot;LXXX&quot;, &quot;XC&quot;)</span>
<span class="nc" id="L247">    val hun = listOf(&quot;&quot;, &quot;C&quot;, &quot;CC&quot;, &quot;CCC&quot;, &quot;CD&quot;, &quot;D&quot;, &quot;DC&quot;, &quot;DCC&quot;, &quot;DCCC&quot;, &quot;CM&quot;)</span>
<span class="nc" id="L248">    val tho = listOf(&quot;&quot;, &quot;M&quot;, &quot;MM&quot;, &quot;MMM&quot;)</span>
<span class="nc" id="L249">    return tho[n / 1000] + hun[n / 100 % 10] + ten[n / 10 % 10] + one[n % 10]</span>
}

/**
 * Очень сложная (7 баллов)
 *
 * Записать заданное натуральное число 1..999999 прописью по-русски.
 * Например, 375 = &quot;триста семьдесят пять&quot;,
 * 23964 = &quot;двадцать три тысячи девятьсот шестьдесят четыре&quot;
 */
fun russian(n: Int): String {
<span class="nc" id="L260">    val wordThousand = listOf(&quot;тысяча &quot;, &quot;тысячи &quot;, &quot;тысяч &quot;)</span>
<span class="nc" id="L261">    val exceptions = listOf(</span>
<span class="nc" id="L262">        &quot;&quot;,</span>
<span class="nc" id="L263">        &quot;одиннадцать &quot;,</span>
<span class="nc" id="L264">        &quot;двенадцать &quot;,</span>
<span class="nc" id="L265">        &quot;тринадцать &quot;,</span>
<span class="nc" id="L266">        &quot;четырнадцать &quot;,</span>
<span class="nc" id="L267">        &quot;пятнадцать &quot;,</span>
<span class="nc" id="L268">        &quot;шестнадцать &quot;,</span>
<span class="nc" id="L269">        &quot;семнадцать &quot;,</span>
<span class="nc" id="L270">        &quot;восемнадцать &quot;,</span>
<span class="nc" id="L271">        &quot;девятнадцать &quot;</span>
    )
<span class="nc" id="L273">    val thousand = listOf(</span>
<span class="nc" id="L274">        &quot;&quot;,</span>
<span class="nc" id="L275">        &quot;одна &quot;,</span>
<span class="nc" id="L276">        &quot;две &quot;,</span>
<span class="nc" id="L277">        &quot;три &quot;,</span>
<span class="nc" id="L278">        &quot;четыре &quot;,</span>
<span class="nc" id="L279">        &quot;пять &quot;,</span>
<span class="nc" id="L280">        &quot;шесть &quot;,</span>
<span class="nc" id="L281">        &quot;семь &quot;,</span>
<span class="nc" id="L282">        &quot;восемь &quot;,</span>
<span class="nc" id="L283">        &quot;девять &quot;</span>
    )
<span class="nc" id="L285">    val one = listOf(</span>
<span class="nc" id="L286">        &quot;&quot;,</span>
<span class="nc" id="L287">        &quot;один&quot;,</span>
<span class="nc" id="L288">        &quot;два&quot;,</span>
<span class="nc" id="L289">        &quot;три&quot;,</span>
<span class="nc" id="L290">        &quot;четыре&quot;,</span>
<span class="nc" id="L291">        &quot;пять&quot;,</span>
<span class="nc" id="L292">        &quot;шесть&quot;,</span>
<span class="nc" id="L293">        &quot;семь&quot;,</span>
<span class="nc" id="L294">        &quot;восемь&quot;,</span>
<span class="nc" id="L295">        &quot;девять&quot;</span>
    )
<span class="nc" id="L297">    val ten = listOf(</span>
<span class="nc" id="L298">        &quot;&quot;,</span>
<span class="nc" id="L299">        &quot;десять &quot;,</span>
<span class="nc" id="L300">        &quot;двадцать &quot;,</span>
<span class="nc" id="L301">        &quot;тридцать &quot;,</span>
<span class="nc" id="L302">        &quot;сорок &quot;,</span>
<span class="nc" id="L303">        &quot;пятьдесят &quot;,</span>
<span class="nc" id="L304">        &quot;шестьдесят &quot;,</span>
<span class="nc" id="L305">        &quot;семьдесят &quot;,</span>
<span class="nc" id="L306">        &quot;восемьдесят &quot;,</span>
<span class="nc" id="L307">        &quot;девяносто &quot;</span>
    )
<span class="nc" id="L309">    val hundred = listOf(</span>
<span class="nc" id="L310">        &quot;&quot;,</span>
<span class="nc" id="L311">        &quot;сто &quot;,</span>
<span class="nc" id="L312">        &quot;двести &quot;,</span>
<span class="nc" id="L313">        &quot;триста &quot;,</span>
<span class="nc" id="L314">        &quot;четыреста &quot;,</span>
<span class="nc" id="L315">        &quot;пятьсот &quot;,</span>
<span class="nc" id="L316">        &quot;шестьсот &quot;,</span>
<span class="nc" id="L317">        &quot;семьсот &quot;,</span>
<span class="nc" id="L318">        &quot;восемьсот &quot;,</span>
<span class="nc" id="L319">        &quot;девятьсот &quot;</span>
    )

<span class="nc" id="L322">    return buildString {</span>
<span class="nc bnc" id="L323" title="All 2 branches missed.">        if (n &gt; 1000) {</span>
<span class="nc" id="L324">            append(hundred[n / 100000])</span>
<span class="nc bnc" id="L325" title="All 6 branches missed.">            if (n / 1000 % 100 in 11..19) {</span>
<span class="nc" id="L326">                append(exceptions[n / 1000 % 10], wordThousand[2])</span>
            } else {
<span class="nc" id="L328">                append(ten[n / 10000 % 10], thousand[n / 1000 % 10])</span>
<span class="nc" id="L329">                when (n / 1000 % 10) {</span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">                    1 -&gt; append(wordThousand[0])</span>
<span class="nc bnc" id="L331" title="All 6 branches missed.">                    in 2..4 -&gt; append(wordThousand[1])</span>
<span class="nc" id="L332">                    else -&gt; append(wordThousand[2])</span>
                }
            }
        }
<span class="nc bnc" id="L336" title="All 6 branches missed.">        if (n % 100 in 11..19) {</span>
<span class="nc" id="L337">            append(hundred[n / 100 % 10], exceptions[n % 10])</span>
        } else {
<span class="nc" id="L339">            append(hundred[n / 100 % 10], ten[n / 10 % 10], one[n % 10])</span>
        }
<span class="nc" id="L341">    }.trim()</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>